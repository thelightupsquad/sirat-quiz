<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶∏‡ßÄ‡¶∞‡¶æ‡¶§‡ßÅ‡¶® ‡¶®‡¶¨‡ßÄ Ô∑∫ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶Ø‡ßã‡¶ó‡¶ø‡¶§‡¶æ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <style>
        * { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #d1fae5 0%, #99f6e4 100%); }
    </style>
</head>
<body class="min-h-screen">
    <div id="app"></div>

    <script>
        // ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶°‡¶æ‡¶ü‡¶æ (‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡ßß‡ß¶‡ß¶‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶¨‡ßá‡¶®)
        const QUESTIONS = [
            {
                id: 1,
                type: 'mcq',
                question: '‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π Ô∑∫ ‡¶ï‡ßã‡¶® ‡¶∏‡¶æ‡¶≤‡ßá ‡¶ú‡¶®‡ßç‡¶Æ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßá‡¶®?',
                options: ['‡ß´‡ß≠‡ß¶ ‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶', '‡ß´‡ß¨‡ß¶ ‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶', '‡ß´‡ßÆ‡ß¶ ‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶', '‡ß´‡ßØ‡ß¶ ‡¶ñ‡ßç‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶¨‡ßç‡¶¶'],
                correctAnswer: 0
            },
            {
                id: 2,
                type: 'mcq',
                question: '‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π Ô∑∫ ‡¶è‡¶∞ ‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ï‡ßÄ?',
                options: ['‡¶Ü‡¶¨‡ßÅ ‡¶§‡¶æ‡¶≤‡¶ø‡¶¨', '‡¶Ü‡¶¨‡¶¶‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π', '‡¶Ü‡¶¨‡¶¶‡ßÅ‡¶≤ ‡¶Æ‡ßÅ‡¶§‡ßç‡¶§‡¶æ‡¶≤‡¶ø‡¶¨', '‡¶Ü‡¶¨‡ßÅ ‡¶¨‡¶ï‡¶∞'],
                correctAnswer: 1
            },
            {
                id: 3,
                type: 'mcq',
                question: '‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π Ô∑∫ ‡¶è‡¶∞ ‡¶¶‡ßÅ‡¶ß ‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶ï‡ßÄ?',
                options: ['‡¶Ü‡¶Æ‡¶ø‡¶®‡¶æ', '‡¶π‡¶æ‡¶≤‡¶ø‡¶Æ‡¶æ', '‡¶ñ‡¶æ‡¶¶‡¶ø‡¶ú‡¶æ', '‡¶Ü‡¶Ø‡¶º‡¶ø‡¶∂‡¶æ'],
                correctAnswer: 1
            },
            {
                id: 4,
                type: 'mcq',
                question: '‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶ï‡ßã‡¶® ‡¶Æ‡¶π‡¶ø‡¶≤‡¶æ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßá‡¶®?',
                options: ['‡¶Ü‡¶Ø‡¶º‡¶ø‡¶∂‡¶æ ‡¶∞‡¶æ.', '‡¶´‡¶æ‡¶§‡¶ø‡¶Æ‡¶æ ‡¶∞‡¶æ.', '‡¶ñ‡¶æ‡¶¶‡¶ø‡¶ú‡¶æ ‡¶∞‡¶æ.', '‡¶π‡¶æ‡¶´‡¶∏‡¶æ ‡¶∞‡¶æ.'],
                correctAnswer: 2
            },
            {
                id: 5,
                type: 'mcq',
                question: '‡¶π‡¶ø‡¶ú‡¶∞‡¶§‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π Ô∑∫ ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßÄ ‡¶ï‡ßá ‡¶õ‡¶ø‡¶≤‡ßá‡¶®?',
                options: ['‡¶â‡¶Æ‡¶∞ ‡¶∞‡¶æ.', '‡¶Ü‡¶¨‡ßÅ ‡¶¨‡¶ï‡¶∞ ‡¶∞‡¶æ.', '‡¶â‡¶∏‡¶Æ‡¶æ‡¶® ‡¶∞‡¶æ.', '‡¶Ü‡¶≤‡ßÄ ‡¶∞‡¶æ.'],
                correctAnswer: 1
            },
            {
                id: 6,
                type: 'mcq',
                question: '‡¶¨‡¶¶‡¶∞ ‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß ‡¶ï‡ßã‡¶® ‡¶∏‡¶æ‡¶≤‡ßá ‡¶∏‡¶Ç‡¶ò‡¶ü‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º?',
                options: ['‡ß® ‡¶π‡¶ø‡¶ú‡¶∞‡ßÄ', '‡ß© ‡¶π‡¶ø‡¶ú‡¶∞‡ßÄ', '‡ß™ ‡¶π‡¶ø‡¶ú‡¶∞‡ßÄ', '‡ß´ ‡¶π‡¶ø‡¶ú‡¶∞‡ßÄ'],
                correctAnswer: 0
            },
            {
                id: 7,
                type: 'mcq',
                question: '‡¶â‡¶π‡ßÅ‡¶¶ ‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß‡ßá ‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π Ô∑∫ ‡¶è‡¶∞ ‡¶ï‡¶Ø‡¶º‡¶ü‡¶ø ‡¶¶‡¶æ‡¶Å‡¶§ ‡¶∂‡¶π‡ßÄ‡¶¶ ‡¶π‡¶Ø‡¶º?',
                options: ['‡ßß‡¶ü‡¶ø', '‡ß®‡¶ü‡¶ø', '‡ß©‡¶ü‡¶ø', '‡ß™‡¶ü‡¶ø'],
                correctAnswer: 1
            },
            {
                id: 8,
                type: 'mcq',
                question: '‡¶Æ‡¶ï‡ßç‡¶ï‡¶æ ‡¶¨‡¶ø‡¶ú‡¶Ø‡¶º ‡¶ï‡ßã‡¶® ‡¶∏‡¶æ‡¶≤‡ßá ‡¶π‡¶Ø‡¶º?',
                options: ['‡ß¨ ‡¶π‡¶ø‡¶ú‡¶∞‡ßÄ', '‡ß≠ ‡¶π‡¶ø‡¶ú‡¶∞‡ßÄ', '‡ßÆ ‡¶π‡¶ø‡¶ú‡¶∞‡ßÄ', '‡ßØ ‡¶π‡¶ø‡¶ú‡¶∞‡ßÄ'],
                correctAnswer: 2
            },
            {
                id: 9,
                type: 'short',
                question: '‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π Ô∑∫ ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§'
            },
            {
                id: 10,
                type: 'short',
                question: '‡¶Æ‡¶ø\'‡¶∞‡¶æ‡¶ú ‡¶ï‡ßã‡¶® ‡¶∂‡¶π‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Ç‡¶ò‡¶ü‡¶ø‡¶§ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡¶ø‡¶≤?'
            }
        ];

        // State Management
        let state = {
            view: 'start',
            participant: { name: '', phone: '' },
            answers: {},
            currentQuestion: 0,
            timeLeft: 60 * 60,
            startTime: null,
            submissions: [],
            timerInterval: null
        };

        // Load submissions from localStorage
        function loadSubmissions() {
            const saved = localStorage.getItem('sirat_submissions');
            if (saved) {
                state.submissions = JSON.parse(saved);
            }
        }

        // Save submission to localStorage
        function saveSubmission(submission) {
            state.submissions.push(submission);
            localStorage.setItem('sirat_submissions', JSON.stringify(state.submissions));
        }

        // Format time
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Start quiz
        function startQuiz() {
            if (!state.participant.name || !state.participant.phone) {
                alert('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡¶Æ ‡¶ì ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®');
                return;
            }
            state.startTime = new Date();
            state.view = 'quiz';
            startTimer();
            render();
        }

        // Start timer
        function startTimer() {
            state.timerInterval = setInterval(() => {
                state.timeLeft--;
                if (state.timeLeft <= 0) {
                    submitQuiz();
                }
                updateTimer();
            }, 1000);
        }

        // Update timer display
        function updateTimer() {
            const timerEl = document.getElementById('timer');
            if (timerEl) {
                timerEl.textContent = formatTime(state.timeLeft);
            }
        }

        // Submit quiz
        function submitQuiz() {
            clearInterval(state.timerInterval);
            
            const endTime = new Date();
            const timeTaken = Math.floor((endTime - state.startTime) / 1000);
            
            const mcqQuestions = QUESTIONS.filter(q => q.type === 'mcq');
            let correct = 0, wrong = 0;
            
            mcqQuestions.forEach(q => {
                if (state.answers[q.id] !== undefined) {
                    if (state.answers[q.id] === q.correctAnswer) {
                        correct++;
                    } else {
                        wrong++;
                    }
                }
            });

            const shortAnswers = QUESTIONS
                .filter(q => q.type === 'short')
                .map(q => ({
                    question: q.question,
                    answer: state.answers[q.id] || '‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶®‡¶®‡¶ø'
                }));

            const submission = {
                name: state.participant.name,
                phone: state.participant.phone,
                mcqCorrect: correct,
                mcqWrong: wrong,
                mcqUnanswered: mcqQuestions.length - correct - wrong,
                shortAnswers: shortAnswers,
                timeTaken: formatTime(timeTaken),
                submittedAt: new Date().toLocaleString('bn-BD')
            };

            saveSubmission(submission);
            state.view = 'submitted';
            render();
        }

        // Render functions
        function renderStartScreen() {
            return `
                <div class="max-w-2xl mx-auto mt-10 p-4">
                    <div class="bg-white rounded-2xl shadow-2xl p-8">
                        <div class="text-center mb-8">
                            <h1 class="text-4xl font-bold text-green-800 mb-2">
                                ‡¶∏‡ßÄ‡¶∞‡¶æ‡¶§‡ßÅ‡¶® ‡¶®‡¶¨‡ßÄ Ô∑∫ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶Ø‡ßã‡¶ó‡¶ø‡¶§‡¶æ
                            </h1>
                            <p class="text-gray-600">‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤‡ßÅ‡¶≤‡ßç‡¶≤‡¶æ‡¶π Ô∑∫ ‡¶è‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßÄ ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶Ø‡ßã‡¶ó‡¶ø‡¶§‡¶æ</p>
                        </div>

                        <div class="bg-green-50 rounded-xl p-6 mb-6">
                            <h3 class="font-bold text-green-900 mb-3">‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶Ø‡ßã‡¶ó‡¶ø‡¶§‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£:</h3>
                            <ul class="space-y-2 text-gray-700">
                                <li>üìù ‡¶Æ‡ßã‡¶ü ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®: ‡ßß‡ß¶‡ß¶‡¶ü‡¶ø (‡ßØ‡ß¶‡¶ü‡¶ø MCQ + ‡ßß‡ß¶‡¶ü‡¶ø ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§)</li>
                                <li>‚è∞ ‡¶∏‡¶Æ‡¶Ø‡¶º: ‡ßß ‡¶ò‡¶®‡ßç‡¶ü‡¶æ (‡ß¨‡ß¶ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü)</li>
                                <li>‚úÖ ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶•‡¶æ‡¶Æ‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ</li>
                                <li>üéØ ‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®‡ßá‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</li>
                            </ul>
                        </div>

                        <div class="space-y-4 mb-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    üë§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ *
                                </label>
                                <input
                                    type="text"
                                    id="name"
                                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                                    placeholder="‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"
                                />
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    üì± ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ *
                                </label>
                                <input
                                    type="tel"
                                    id="phone"
                                    class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                                    placeholder="‡ß¶‡ßßXXXXXXXXX"
                                />
                            </div>
                        </div>

                        <button
                            onclick="startQuizHandler()"
                            class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-4 rounded-xl transition duration-200 text-lg"
                        >
                            ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶Ø‡ßã‡¶ó‡¶ø‡¶§‡¶æ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®
                        </button>

                        <div class="mt-6 text-center">
                            <button
                                onclick="adminLogin()"
                                class="text-sm text-gray-500 hover:text-gray-700"
                            >
                                ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderQuizScreen() {
            const currentQ = QUESTIONS[state.currentQuestion];
            const progress = ((state.currentQuestion + 1) / QUESTIONS.length) * 100;

            let optionsHTML = '';
            if (currentQ.type === 'mcq') {
                optionsHTML = currentQ.options.map((option, index) => `
                    <button
                        onclick="selectAnswer(${currentQ.id}, ${index})"
                        class="w-full text-right p-4 rounded-lg border-2 transition duration-200 ${
                            state.answers[currentQ.id] === index
                                ? 'border-green-600 bg-green-50'
                                : 'border-gray-300 hover:border-green-400'
                        }"
                    >
                        <span class="font-semibold">${String.fromCharCode(65 + index)}.</span> ${option}
                    </button>
                `).join('');
            } else {
                optionsHTML = `
                    <textarea
                        id="shortAnswer"
                        onchange="updateShortAnswer(${currentQ.id})"
                        class="w-full p-4 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"
                        rows="4"
                        placeholder="‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."
                    >${state.answers[currentQ.id] || ''}</textarea>
                `;
            }

            return `
                <div class="max-w-4xl mx-auto p-4">
                    <div class="bg-white rounded-xl shadow-lg p-4 mb-4">
                        <div class="flex justify-between items-center">
                            <div class="text-green-800 font-bold">
                                ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ${state.currentQuestion + 1} / ${QUESTIONS.length}
                            </div>
                            <div class="flex items-center gap-2 text-red-600 font-bold text-xl">
                                ‚è∞ <span id="timer">${formatTime(state.timeLeft)}</span>
                            </div>
                        </div>
                        <div class="mt-2 bg-gray-200 rounded-full h-2">
                            <div
                                class="bg-green-600 h-2 rounded-full transition-all duration-300"
                                style="width: ${progress}%"
                            ></div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-lg p-6 mb-4">
                        <div class="mb-4">
                            <span class="inline-block bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold mb-3">
                                ${currentQ.type === 'mcq' ? '‡¶¨‡¶π‡ßÅ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡ßÄ' : '‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡¶ø‡¶™‡ßç‡¶§ ‡¶â‡¶§‡ßç‡¶§‡¶∞'}
                            </span>
                            <h2 class="text-xl font-bold text-gray-800">
                                ${currentQ.question}
                            </h2>
                        </div>

                        <div class="space-y-3">
                            ${optionsHTML}
                        </div>
                    </div>

                    <div class="flex gap-4">
                        <button
                            onclick="prevQuestion()"
                            ${state.currentQuestion === 0 ? 'disabled' : ''}
                            class="px-6 py-3 bg-gray-300 hover:bg-gray-400 disabled:bg-gray-200 disabled:cursor-not-allowed rounded-lg font-bold transition"
                        >
                            ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡¶¨‡¶∞‡ßç‡¶§‡ßÄ
                        </button>

                        ${state.currentQuestion < QUESTIONS.length - 1 ? `
                            <button
                                onclick="nextQuestion()"
                                class="flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-bold transition"
                            >
                                ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®
                            </button>
                        ` : `
                            <button
                                onclick="submitQuiz()"
                                class="flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-bold transition"
                            >
                                ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®
                            </button>
                        `}
                    </div>
                </div>
            `;
        }

        function renderSubmittedScreen() {
            return `
                <div class="min-h-screen flex items-center justify-center p-4">
                    <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center">
                        <div class="text-6xl mb-4">‚úÖ</div>
                        <h2 class="text-3xl font-bold text-green-800 mb-2">
                            ‡¶ú‡¶Æ‡¶æ ‡¶∏‡¶´‡¶≤ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!
                        </h2>
                        <p class="text-gray-600 mb-4">
                            ${state.participant.name}, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶™‡¶§‡ßç‡¶∞ ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§
                        </p>
                        <p class="text-gray-700 font-semibold">
                            ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶ò‡ßã‡¶∑‡¶£‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá ‡¶á‡¶®‡¶∂‡¶æ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π‡•§
                        </p>
                        <div class="mt-6 text-sm text-gray-500">
                            ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶â‡¶§‡ßç‡¶§‡¶Æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¶‡¶æ‡¶® ‡¶¶‡¶ø‡¶®‡•§ ü§≤
                        </div>
                    </div>
                </div>
            `;
        }

        function renderAdminPanel() {
            loadSubmissions();
            
            const rows = state.submissions.map((sub, idx) => `
                <tr class="border-b hover:bg-gray-50">
                    <td class="px-4 py-3 text-right">${sub.name}</td>
                    <td class="px-4 py-3 text-right">${sub.phone}</td>
                    <td class="px-4 py-3 text-center">
                        <span class="bg-green-100 text-green-800 px-2 py-1 rounded">
                            ${sub.mcqCorrect}
                        </span>
                    </td>
                    <td class="px-4 py-3 text-center">
                        <span class="bg-red-100 text-red-800 px-2 py-1 rounded">
                            ${sub.mcqWrong}
                        </span>
                    </td>
                    <td class="px-4 py-3 text-center">
                        <span class="bg-gray-100 text-gray-800 px-2 py-1 rounded">
                            ${sub.mcqUnanswered}
                        </span>
                    </td>
                    <td class="px-4 py-3 text-center">${sub.timeTaken}</td>
                    <td class="px-4 py-3 text-right text-sm">${sub.submittedAt}</td>
                </tr>
            `).join('');

            return `
                <div class="max-w-7xl mx-auto p-4">
                    <div class="bg-white rounded-xl shadow-lg p-6 mb-4">
                        <div class="flex justify-between items-center">
                            <h1 class="text-2xl font-bold text-gray-800">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h1>
                            <button
                                onclick="backToStart()"
                                class="px-4 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg"
                            >
                                ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶•‡¶æ‡¶®
                            </button>
                        </div>
                        <p class="text-gray-600 mt-2">‡¶Æ‡ßã‡¶ü ‡¶ú‡¶Æ‡¶æ: ${state.submissions.length}‡¶ü‡¶ø</p>
                    </div>

                    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-green-600 text-white">
                                    <tr>
                                        <th class="px-4 py-3 text-right">‡¶®‡¶æ‡¶Æ</th>
                                        <th class="px-4 py-3 text-right">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤</th>
                                        <th class="px-4 py-3 text-center">‡¶∏‡¶†‡¶ø‡¶ï</th>
                                        <th class="px-4 py-3 text-center">‡¶≠‡ßÅ‡¶≤</th>
                                        <th class="px-4 py-3 text-center">‡¶â‡¶§‡ßç‡¶§‡¶∞‡¶π‡ßÄ‡¶®</th>
                                        <th class="px-4 py-3 text-center">‡¶∏‡¶Æ‡¶Ø‡¶º</th>
                                        <th class="px-4 py-3 text-right">‡¶ú‡¶Æ‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${rows}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    ${state.submissions.length === 0 ? `
                        <div class="text-center text-gray-500 mt-8">
                            ‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶ú‡¶Æ‡¶æ ‡¶®‡ßá‡¶á
                        </div>
                    ` : ''}
                </div>
            `;
        }

        // Render main app
        function render() {
            const app = document.getElementById('app');
            
            if (state.view === 'start') {
                app.innerHTML = renderStartScreen();
            } else if (state.view === 'quiz') {
                app.innerHTML = renderQuizScreen();
            } else if (state.view === 'submitted') {
                app.innerHTML = renderSubmittedScreen();
            } else if (state.view === 'admin') {
                app.innerHTML = renderAdminPanel();
            }
        }

        // Event handlers
        function startQuizHandler() {
            state.participant.name = document.getElementById('name').value;
            state.participant.phone = document.getElementById('phone').value;
            startQuiz();
        }

        function selectAnswer(questionId, answerIndex) {
            state.answers[questionId] = answerIndex;
            render();
        }

        function updateShortAnswer(questionId) {
            state.answers[questionId] = document.getElementById('shortAnswer').value;
        }

        function nextQuestion() {
            if (state.currentQuestion < QUESTIONS.length - 1) {
                state.currentQuestion++;
                render();
            }
        }

        function prevQuestion() {
            if (state.currentQuestion > 0) {
                state.currentQuestion--;
                render();
            }
        }

        function adminLogin() {
            const password = prompt('‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°:');
            if (password === 'admin123') {
                state.view = 'admin';
                render();
            } else {
                alert('‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°');
            }
        }

        function backToStart() {
            state.view = 'start';
            state.currentQuestion = 0;
            state.answers = {};
            state.timeLeft = 60 * 60;
            render();
        }

        // Initialize app
        render();
    </script>
</body>
</html>